<!DOCTYPE html>
<!-- saved from url=(0083)https://issues.openmrs.org/si/jira.issueviews:issue-html/TRUNK-5372/TRUNK-5372.html -->
<html class="webkit chrome gr__issues_openmrs_org"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>[#TRUNK-5372] Implement HTTPS support for HttpUrl Class</title>
    
            
        <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"jira.create.linked.issue\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-075/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.request.correlation-id"]="\"77819d9f433808\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script>
<link type="text/css" rel="stylesheet" href="./TRUNK-5372_files/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<link type="text/css" rel="stylesheet" href="./TRUNK-5372_files/com.atlassian.auiplugin_aui-labels.css" data-wrm-key="com.atlassian.auiplugin:aui-labels" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="./TRUNK-5372_files/jira.webresources_global-static.css" data-wrm-key="jira.webresources:global-static" data-wrm-batch-type="resource" media="all">
<script type="text/javascript" src="./TRUNK-5372_files/batch.js" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered=""></script><style></style><style type="text/css"></style><style type="text/css"></style>

        <style type="text/css">

.tableBorder, .grid
{
    background-color: #fff;
    width: 100%;
    border-collapse: collapse;
}

.tableBorder td, .grid td
{
    vertical-align: top;
    padding: 2px;
    border: 1px solid #ccc;
}

.noPadding
{
    padding: 0 !important;
}

h3 .subText
{
    font-size: 60%;
    font-weight: normal;
}

.tabLabel
{
    font-weight: bold;
    border: 1px solid #ccc;
    border-bottom:none;
    padding: 2px;
    display: inline;
}

td.blank
{
    padding: 0;
    margin: 0;
}

.blank td
{
    border: none;
}

#descriptionArea
{
    margin: 0;
    padding: 2px;
    border: 1px solid #ccc;
}

hr
{
    border-top:1px solid #aaa;
}

hr.fullcontent
{
  height: 15px;
  padding: 10px 0;
  background: #fff url('https://issues.openmrs.org/images/icons/hr.gif') no-repeat scroll center;
}

</style>

</head>
<body data-gr-c-s-loaded="true" data-aui-version="6.0.0">
<header id="previous-view">
    <nav class="aui-toolbar">
        <div class="toolbar-split toolbar-split-right">
            <ul class="toolbar-group">
                <li class="toolbar-item">
                    <a href="https://issues.openmrs.org/browse/TRUNK-5372" class="toolbar-trigger">Back to previous view</a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<table class="tableBorder" cellpadding="0" cellspacing="0" border="0" width="100%">
    <tbody><tr>
        <td bgcolor="#f0f0f0" width="100%" colspan="2" valign="top">
                            <h3 class="formtitle">
                        [TRUNK-5372]&nbsp;<a href="https://issues.openmrs.org/browse/TRUNK-5372">Implement HTTPS support for HttpUrl Class</a>
            <span class="subText">
               Created: 2018-03-14                   &nbsp;Updated: 2018-04-07

                                            </span>
            </h3>
        </td>
    </tr>
    <tr>
        <td width="20%"><b>Status:</b></td>
        <td width="80%">Waiting on Information</td>
    </tr>
    <tr>
        <td width="20%"><b>Project:</b></td>
        <td width="80%"><a href="https://issues.openmrs.org/secure/BrowseProject.jspa?id=10000">OpenMRS Core</a></td>
    </tr>

        <tr>
            <td><b>Component/s:</b></td>
            <td>
                            None
                </td>
    </tr>
    

        <tr>
            <td><b>Affects Version/s:</b></td>
            <td>
                            None
                </td>
    </tr>
    

        <tr>
            <td><b>Fix Version/s:</b></td>
            <td>
                            None
                </td>
    </tr>
    
    </tbody></table>

<br>
<table class="grid" cellpadding="0" cellspacing="0" border="0" width="100%">
    <tbody><tr>
        <td bgcolor="#f0f0f0" valign="top" width="20%">
            <b>Type:</b>
        </td>
        <td bgcolor="#ffffff" valign="top" width="30%">
            Bug
        </td>

                    <td bgcolor="#f0f0f0">
                <b>Priority:</b>
            </td>
            <td bgcolor="#ffffff" valign="top" nowrap="">
                TBD
            </td>
            </tr>
    <tr>
                        <td bgcolor="#f0f0f0" valign="top" width="20%">
                <b>Reporter:</b>
            </td>
            <td bgcolor="#ffffff" valign="top" width="30%">
                                            <a class="user-hover" rel="sumangala28" id="word_reporter_sumangala28" href="https://issues.openmrs.org/secure/ViewProfile.jspa?name=sumangala28">Jeyasumangala Rasanayagam</a>
                            </td>
        
                    <td bgcolor="#f0f0f0" width="20%">
                <b>Assignee:</b>
            </td>
            <td bgcolor="#ffffff" valign="top" nowrap="" width="30%">
                                    Unassigned
                            </td>
            </tr>
    	<tr>
		<td bgcolor="#f0f0f0" width="20%">
			<b>Resolution:</b>
		</td>
		<td bgcolor="#ffffff" valign="top" width="30%" nowrap="">
            				Unresolved
                    </td>
                    <td bgcolor="#f0f0f0" width="20%">
                <b>Votes:</b>
            </td>
            <td bgcolor="#ffffff" valign="top" width="30%" nowrap="">
                0
            </td>
        
    </tr>
    
        <tr>
        <td bgcolor="#f0f0f0" width="20%">
            <b>Labels:</b>
        </td>
        <td id="labels-94219-value" class="value" bgcolor="#ffffff" valign="top" colspan="3" nowrap="">
                            None
                    </td>
    </tr>
    
    	<tr>
        		<td bgcolor="#f0f0f0" width="20%"><b>Remaining Estimate:</b></td>
        <td bgcolor="#ffffff" valign="top" nowrap="" width="80%" colspan="3">
                            Not Specified
            		</td>
    </tr>
    <tr>
                <td bgcolor="#f0f0f0" width="20%"><b>Time Spent:</b></td>
		<td bgcolor="#ffffff" valign="top" nowrap="" width="80%" colspan="3">
                            Not Specified
            		</td>
	</tr>
    <tr>
                <td bgcolor="#f0f0f0" width="20%"><b>Original Estimate:</b></td>
		<td bgcolor="#ffffff" valign="top" nowrap="" width="80%" colspan="3">
                            Not Specified
            		</td>
    </tr>
    
    </tbody></table>



    <br>

    	<table class="grid" cellpadding="0" cellspacing="0" border="0" width="100%">
            

        
            <tbody><tr>
            <td bgcolor="#f0f0f0" width="20%" valign="top">
                <b>Issue Links:</b>
            </td>
            <td bgcolor="#ffffff" valign="top" class="noPadding">
                <table cellpadding="0" cellspacing="0" border="0" width="100%" class="blank">
                                            <tbody><tr>
                            <td colspan="4" bgcolor="#f0f0f0">
                                <b>Resolution</b><br>
                            </td>
                        </tr>
                                                                <tr>
            <td>
                is resolved by
            </td>
            <td>
                <a href="https://issues.openmrs.org/browse/TRUNK-5366">
                     TRUNK-5366                 </a>
            </td>
            <td>
                Refactor to remove our custom HttpCli...
            </td>
            <td>
                Needs Assessment
            </td>
        </tr>
                                        </tbody></table>
            </td>
        </tr>
    



                        <tr>
                <td bgcolor="#f0f0f0" width="20%" valign="top"><b>Complexity:</b></td>
                <td id="customfield_10020-94219-value" class="value" bgcolor="#ffffff" width="80%">    Medium
</td>
            </tr>
                                <tr>
                <td bgcolor="#f0f0f0" width="20%" valign="top"><b>Watchers:</b></td>
                <td id="customfield_10121-94219-value" class="value" bgcolor="#ffffff" width="80%">    <div class="shorten" id="customfield_10121-field">
                                    <span class="tinylink">        <span class="user-hover" rel="gnyamach" id="multiuser_cf_gnyamach">Gideon Nyamachere</span></span>,                                                 <span class="tinylink">        <span class="user-hover" rel="teleivo" id="multiuser_cf_teleivo">Ivo Ulrich</span></span>,                                                 <span class="tinylink">        <span class="user-hover" rel="sumangala28" id="multiuser_cf_sumangala28">Jeyasumangala Rasanayagam</span></span>,                                                 <span class="tinylink">        <span class="user-hover" rel="willhoss" id="multiuser_cf_willhoss">William Hoss</span></span>                        </div>
</td>
            </tr>
            </tbody></table>

    <br>

    <table cellpadding="2" cellspacing="0" border="0" width="100%" align="center">
    <tbody><tr>
        <td bgcolor="#bbbbbb" width="1%" nowrap="" align="center">
            &nbsp;<font color="#ffffff"><b>Description</b></font>&nbsp;
        </td>
        <td>&nbsp;</td>
    </tr>
    </tbody></table>

    <table cellpadding="0" cellspacing="0" border="0" width="100%">
    <tbody><tr>
        <td id="descriptionArea">
            <p>Modify the HttpUrl class to support for the HTTPS address. It has the condition to check only for HTTP URLs. Now a days, Most of us moving to HTTPS, So it should be updated. </p>

<p><a href="https://github.com/openmrs/openmrs-core/blob/f176a41519fbaec8eb4142a70c272c96f5df8fda/api/src/main/java/org/openmrs/util/HttpUrl.java" class="external-link" rel="nofollow">https://github.com/openmrs/openmrs-core/blob/f176a41519fbaec8eb4142a70c272c96f5df8fda/api/src/main/java/org/openmrs/util/HttpUrl.java</a></p>
            <br>
        </td>
    </tr>
    </tbody></table>

    <br>

    <table cellpadding="2" cellspacing="0" border="0" width="100%" align="center">
    <tbody><tr>
        <td bgcolor="#bbbbbb" width="1%" nowrap="" align="center">
            &nbsp;<font color="#ffffff"><b>Comments</b></font>&nbsp;
        </td>
        <td>&nbsp;</td>
    </tr>
    </tbody></table>

    <table cellpadding="0" cellspacing="0" border="0" width="100%" class="grid" style="margin: 0;">
                <tbody><tr id="comment-header-246597"><td bgcolor="#f0f0f0">
            Comment by  
                                                        <a class="user-hover" rel="teleivo" id="word_commented_teleivo" href="https://issues.openmrs.org/secure/ViewProfile.jspa?name=teleivo">Ivo Ulrich</a>
                                        <font size="-2">
            [
                <font color="#336699">2018-03-14</font>

                            ]
            </font>

        </td></tr>
        <tr id="comment-body-246597"><td bgcolor="#ffffff">
            <p><a href="https://issues.openmrs.org/secure/ViewProfile.jspa?name=sumangala28" class="user-hover" rel="sumangala28">Jeyasumangala Rasanayagam</a> where do you think is this needed exactly? Also see this issue <a href="https://issues.openmrs.org/browse/TRUNK-5366" class="external-link" rel="nofollow">https://issues.openmrs.org/browse/TRUNK-5366</a></p>
        </td></tr>
                <tr id="comment-header-246606"><td bgcolor="#f0f0f0">
            Comment by  
                                                        <a class="user-hover" rel="sumangala28" id="word_commented_sumangala28" href="https://issues.openmrs.org/secure/ViewProfile.jspa?name=sumangala28">Jeyasumangala Rasanayagam</a>
                                        <font size="-2">
            [
                <font color="#336699">2018-03-15</font>

                            ]
            </font>

        </td></tr>
        <tr id="comment-body-246606"><td bgcolor="#ffffff">
            <p>Hi <a href="https://issues.openmrs.org/secure/ViewProfile.jspa?name=teleivo" class="user-hover" rel="teleivo">Ivo Ulrich</a></p>

<p>Yah, We can use a tested complete library. Anyway I couldn't make any comments since I'm not feasible with those one.<br>
But We are still using the HttpUrl class, So I thought to add HTTPS support to that one.</p>
        </td></tr>
                <tr id="comment-header-246743"><td bgcolor="#f0f0f0">
            Comment by  
                                                        <a class="user-hover" rel="willhoss" id="word_commented_willhoss" href="https://issues.openmrs.org/secure/ViewProfile.jspa?name=willhoss">William Hoss</a>
                                        <font size="-2">
            [
                <font color="#336699">2018-03-17</font>

                            ]
            </font>

        </td></tr>
        <tr id="comment-body-246743"><td bgcolor="#ffffff">
            <p>Hey&nbsp;<a href="https://issues.openmrs.org/secure/ViewProfile.jspa?name=sumangala28" class="user-hover" rel="sumangala28">Jeyasumangala Rasanayagam</a>,</p>

<p>I was looking at this class and I think that it would be appropriate to have the https support within the HttpUrl class, and just abstract the initialization to another method. Do you think that this warrants a new class creation, such as HttpsUrl.java</p>

<p>I would appreciate your input as you seem more versed in its use case.</p>
        </td></tr>
                <tr id="comment-header-247276"><td bgcolor="#f0f0f0">
            Comment by  
                                                        <a class="user-hover" rel="gnyamach" id="word_commented_gnyamach" href="https://issues.openmrs.org/secure/ViewProfile.jspa?name=gnyamach">Gideon Nyamachere</a>
                                        <font size="-2">
            [
                <font color="#336699">2018-04-05</font>

                            ]
            </font>

        </td></tr>
        <tr id="comment-body-247276"><td bgcolor="#ffffff">
            <p>Hi&nbsp;<a href="https://issues.openmrs.org/secure/ViewProfile.jspa?name=sumangala28" class="user-hover" rel="sumangala28">Jeyasumangala Rasanayagam</a>,</p>

<p>Did you get a chance to respond to the question above? We wanted to implement this solution but we would appreciate your input before we proceed.&nbsp;</p>

<p>Thanks</p>
        </td></tr>
                <tr id="comment-header-247311"><td bgcolor="#f0f0f0">
            Comment by  
                                                        <a class="user-hover" rel="gnyamach" id="word_commented_gnyamach" href="https://issues.openmrs.org/secure/ViewProfile.jspa?name=gnyamach">Gideon Nyamachere</a>
                                        <font size="-2">
            [
                <font color="#336699">2018-04-07</font>

                            ]
            </font>

        </td></tr>
        <tr id="comment-body-247311"><td bgcolor="#ffffff">
            <p>Since this issue is being assessed in the issue&nbsp;<a href="https://issues.openmrs.org/browse/TRUNK-5366" class="external-link" rel="nofollow">https://issues.openmrs.org/browse/TRUNK-5366</a>&nbsp;we are going to unassign from this ticket.</p>
        </td></tr>
                <tr id="comment-header-247312"><td bgcolor="#f0f0f0">
            Comment by  
                                                        <a class="user-hover" rel="gnyamach" id="word_commented_gnyamach" href="https://issues.openmrs.org/secure/ViewProfile.jspa?name=gnyamach">Gideon Nyamachere</a>
                                        <font size="-2">
            [
                <font color="#336699">2018-04-07</font>

                            ]
            </font>

        </td></tr>
        <tr id="comment-body-247312"><td bgcolor="#ffffff">
            <p>I could not locate the "unassign" button to&nbsp;allow someone else to pick it up and continue working on this issue. If you can locate it please do unassign me <img class="emoticon" src="./TRUNK-5372_files/sad.png" height="16" width="16" align="absmiddle" alt="" border="0">.</p>

<p><a href="https://issues.openmrs.org/secure/ViewProfile.jspa?name=dkayiwa" class="user-hover" rel="dkayiwa">Daniel Kayiwa</a> please assist.</p>
        </td></tr>
            </tbody></table>
Generated at Sun Apr 22 21:24:36 UTC 2018 using JIRA 7.5.1#75006-sha1:7df2574a6cc842da727f00de4c5ce9ac07701368.


</body></html>